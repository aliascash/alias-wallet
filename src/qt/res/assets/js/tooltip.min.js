!function(t){"use strict";let e=void 0,o=!1;function r(t){return o=!0,e=t.currentTarget===e||$(t.target).hasClass("footable-toggle")?void 0:t.currentTarget,!0}function n(t){return o=!1,e=void 0,!0}function i(t){return e!==t.currentTarget||(a(t),$(this).hasClass("editable"))}function s(t){return o||$(t.target).hasClass("footable-toggle")||(e=t.currentTarget,a(t)),!0}function a(r){let n=void 0,i=void 0,s=void 0,a=void 0,c=void 0,u=!1;function l(){t(window).width()<1.5*s.outerWidth()?s.css("max-width",t(window).width()/2):s.css("max-width",340);var e=n.offset().left+n.outerWidth()/2-s.outerWidth()/2,o=n.offset().top-s.outerHeight()-20;e<0?(e=n.offset().left+n.outerWidth()/2-20,s.addClass("left")):s.removeClass("left"),e+s.outerWidth()>t(document).width()?(e=n.offset().left-s.outerWidth()+n.outerWidth()/2+20,s.addClass("right")):s.removeClass("right"),e+n.outerWidth()>t(document).width()&&(e=r.pageX,s.removeClass("left right")),o<0?(o=n.offset().top+n.outerHeight()+25,s.addClass("top"),u=!0):s.removeClass("top"),s.css({left:e,top:o}),1!=s.css("opacity")?(s.css({left:e,top:o}),s.animate({top:(u?"-":"+")+"=10",opacity:1},100)):s.css({left:e,top:u?o-10:o+10})}function d(){o=!1,clearInterval(c),t(window).off("resize",d),document.removeEventListener("touchstart",d,!0),n.off("contextmenu mouseleave",d);let i=r.currentTarget;s.animate({top:(u?"+":"-")+"=10",opacity:0},100,(function(){e!==i&&void 0!==e||(e=void 0,t(this).remove())}))}function f(){return a.replace(/&#013;|\n|\x0A/g,"<br />").replace(/%column%/g,(function(){return t(n.parents("table").find("thead tr th")[n[0].cellIndex]).text()})).replace(/%([.\w\-]+),([.\w\-]+)%/g,(function(t,e,o){return n.children(e).attr(o)})).replace(/%([.\w\-]+)%/g,(function(t,e){return n.children(e).text()}))}if(!t("input, textarea").is(":focus")&&"inline-block"!=t(".iw-contextMenu").css("display")){if(t("#tooltip").remove(),n=t(r.currentTarget),a=n.attr("data-title"),s=t('<div id="tooltip"></div>'),!a||""==a)return!1;a=f(),s.css("opacity",0).html(a).appendTo("body"),"pointer"!=n.css("cursor")&&"A"!=n.prop("tagName")&&n.css("cursor","help"),l(),t(window).on("resize",d),n.on("contextmenu mouseleave",d),i=n.offset(),document.addEventListener("touchstart",d,!0),c=setInterval((function(e){let o=a?a.length:0;if(s=t("#tooltip"),n=t(e),!s.length||!n.length||n.is(":hidden")||(a=n.attr("data-title"),!a||""==a))return d(),!1;a=f(),s.html(a);let r=n.offset();o==a.length&&i.left==r.left&&i.right==r.right||(i=r,s.css("left",""),s.css("top",""),s.css("max-width",""),s.removeClass("left, right top"),l())}),500,r.currentTarget)}}t.fn.tooltip=function(e){return e===t&&(e=t("[data-title]")),void 0===e&&(e=this),e.off("mouseenter touchstart touchend touchmove touchcancel").on("mouseenter",s).on("touchstart",r).on("touchend",i).on("touchmove touchcancel",n)}}(jQuery),jQuery($.fn.tooltip);
